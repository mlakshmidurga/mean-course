<mat-card>
  <mat-spinner *ngIf='isLoading'></mat-spinner>
  <form [formGroup]='form' (submit)="onSavePost()" *ngIf='!isLoading'>
  <mat-form-field>
    <input matInput type="text" formControlName='title' placeholder="post a title">
    <mat-error *ngIf="form.get('title').invalid">please enter a post title</mat-error>
  </mat-form-field>
  <div>
  <button mat-stroked-button type="button" (click) ='filePicker.click()'>Pick image</button>
  <input type="file" #filePicker (change)="onImagePicked($event)">
</div>
<div class ="image-preview" *ngIf = "imagePreview !== '' && imagePreview && form.get('image').valid">
  <img [src]="imagePreview" [alt]='this.form.title'>
</div>
<mat-form-field>
    <textarea rows="6" matInput  formControlName='content'  placeholder="post a content"></textarea>
    <mat-error *ngIf="form.get('content').invalid">please enter a post content</mat-error>
  </mat-form-field>
  <button mat-raised-button type="submit" color="primary">save</button>
</form>
</mat-card>
